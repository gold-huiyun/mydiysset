## 定时任务
顾名思义，定时运行你交给他的任务

1.搜索：可以查找你要查看的定时任务，支持任务名和脚本文件名搜索

2.操作：此处有脚本运行、日志查看、编辑、禁用、置顶等功能

3.添加任务：新建定时任务

  （1）名称：可以随意写，不填会自动生成
  
  （2）命令：此处可以填写alpine系统支持的基本命令（ping之类的不可）看不懂忽略
  
     青龙内置的指令如
      
      ql update、ql check等可在ssh输入ql查看详细注释
      
     青龙拉库命令ql repo +仓库，如
      
      ql repo https://github.com/xxx/xxx.git"xx|xx_|xx_|xx_|xx"
      
     青龙拉取单个脚本命令ql raw +脚本地址，如
      
      ql raw https://xxxx.com/xxx.js
      
      执行脚本命令 ： task +脚本路径，如
      
      task  /ql/config/xxx.sh
      task  xxx.sh              //不指定路径则默认为/ql/scripts目录下的脚本
      
  （3）定时规则：顺序为 秒（可选）分 时 天 月 周 如：
  1 2 * * * 表示定时任务将在每天的2：01开始执行
  
  [更多定时规则详情参考某里](https://help.aliyun.com/document_detail/173611.html)
  
## 环境变量
这里可以填写脚本以及面板推送功能的环境变量

某东环境变量参考:
[此处引用inoyna12dd大佬链接](https://github.com/inoyna12/JDsc/blob/main/backUp/githubAction.md)
      *[备用链接](https://github.com/gold-huiyun/JDsc/blob/main/backUp/githubAction.md)*
## 配置文件
此处为青龙比较重要的配置文件区,作者注释非常详细，看不懂，就多看两遍
注意：某东挂机如果账号比较多，脚本又比较耗时间的话，注意按需求和**服务器性能**修改以下参数。
```
##第23行 设置定时任务执行的超时时间，默认1h，后缀"s"代表秒(默认值), "m"代表分, "h"代表小时, "d"代表天
CommandTimeoutTime="1h"      //例如你有一个脚本运行完需要3小时，此处可以填大点 4h

##第26行 设置批量执行任务时的并发数，默认同时执行5个任务
MaxConcurrentNum="5"         //超过这个数量的脚本将会进入队列中，等待前置脚本有运行结束的之后再运行。如果你有8个脚本会在同一时间运行，此处可以填8。
```

[有关内部助力配置文件的信息](https://github.com/inoyna12/JDsc/blob/main/backUp/githubAction.md)

## 脚本管理
此处存放的是/ql/scripts目录下的脚本（拉取脚本库的所有脚本存放于此处）
你可以在此处新建、查看、编辑脚本，也可以进行调试。（小白不建议乱动）
## 依赖管理   
**旧版本可能没有这一项**
这里是管理依赖环境的，某东挂机要注意requests、jsdom和png-js三个最好装上
对于旧版青龙，没有依赖管理可以参考方法2-3

方法1:

依赖管理--添加

requests       依赖类型选Python3

jsdom和png-js  依赖类型选nodejs

等待安装成功即可。

方法2:

使用ssh连接服务器，输入以下代码进行安装
```
docker exec -it qinglong bash -c "pip3 install requests"
docker exec -it qinglong bash -c "cd /ql/scripts && npm install jsdom"
docker exec -it qinglong bash -c "cd /ql/scripts && npm install png-js"

```
方法3：

如果你用的是某某容器，不便使用ssh那么可以这样

在脚本管理处新建脚本命名为jddep.sh填入以下内容，并保存
```
pip3 install requests

cd /ql/scripts && npm install jsdom

cd /ql/scripts && npm install png-js
```
之后在定时任务-添加任务。
名称（随意）：京东依赖。
命令：`task jddep.sh`
定时规则（随意时间）：`0 0 1 1 *`

保存后（最好先在右面三个点处点击禁用，因为他就用一次），点击运行，之后可以去任务日志查看安装情况。
安装完成后此定时任务可以删除。

## 对比工具

此处只要对比配置文件中的脚本和原始脚本的差异，一般用不到。

## 任务日志

这里可以查看定时任务处所有脚本及部分命令的运行日志，保留期限可以在系统设置-其他设置-日志删除频率进行自定义。

搜索功能仅限于定时任务名和命令等关键字，暂不支持日志内容全文搜索。

## 系统设置
用户可以在这里修改用户名和密码，启用两步验证

注意：通知设置的Push Plus选项设置时可能报错无法使用（好像一直是这样，其他未测）你可以在配置文件config.sh处或者环境变量处进行设置

登录日志可以查看登录青龙面板的ip地址信息（部分容器搭建的青龙可能无法获取实际登录ip信息）

其他设置中的 主题设置、日志删除频率  可按自己需求设置

检查更新的话最好找个没有定时任务的空闲或者暂停脚本运行后进行，检查更新新版本后会进行自动重启。

另注意：由于青龙作者仍在更新青龙，难免会出现一些毛病，所以如果你的青龙面板运行稳定，又没有新功能需求，不建议检查更新
